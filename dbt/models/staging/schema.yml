version: 2

models:
  - name: songs_played
    description: Fact table. Records all songs played via the application.
    docs: 
      show: true
    columns:
      - name: id
        description: auto generated identifier
      - name: song_id
        description: song identifier
        tests:
          - not null
        tags: ['songs_played', 'song']
      - name: artist_id
        description: artist identifier
        tests:
          - not null
        tags: ['songs_played', 'artist', 'identity']
      - name: user_id
        description: user identifier
        tests:
          - not null
        tags: ['songs_played', 'user', 'identity']
      - name: session_id
        description: session identifier
        tests:
          - not null
        tags: ['songs_played', 'session', 'identity']
      - name: duration
        description: measures how long the song spans
        tests:
          - not null
        tags: ['songs_played', 'songs', 'time', 'duration']
      - name: address_id
        description: address identifier
        tests:
          - not null
        tags: ['songs_played', 'address', 'identifier']
      - name: timestamp
        description: time song was played
        tests:
          - not null
        tags: ['songs_played', 'song', 'time']
      - name: level_id
        description: level identifier. Possible values are 'paid', 'free'
        tests:
          - not null
        tags: ['songs_played', 'user', 'song', 'level']
      - name: item_in_session
        tags: ['songs_played', 'user']
      - name: longitude
        description: (long) location the song was played
        tests:
          - not null
        tags: ['songs_played', 'user']
      - name: latitude
        description: (lat) location the song was played
        tests:
          - not null
        tags: ['songs_played', 'location', 'user', 'address', song]
  - name: songs
    description: Dim table. Distinct songs played (available) on the app
    docs:
      show: true
    tests:
      - not null
    columns:
      - name: id
        description: Identifier.
        tags: ['songs', 'staging', 'identifier']
      - name: song
        description: song title.
        tags: ['songs', 'staging']
      - name: artistId
        description: Identifier.
        tags: ['songs', 'staging', 'identifier', 'artist']
      - name: artist_name
        description: name of the artist of the sonf.
        tags: ['song', 'staging', 'artist']
  - name: users
    description: users in the app. listeners and non-listeners
    docs:
      show: true
    tests:
      - not null
    columns:
      - name: id
        description: auto generated identifier for table
        tags: ['identifier', 'staging', 'users']
      - name: user_id
        description: identifier
        tags: ['identifier', 'staging', 'users']
      - name: first_name
        description: user's first name
        tags: ['staging', 'users']
      - name: last_name
        description: user's last name
        tags: ['staging', 'users']
      - name: city
        description: user's city (name)
        tags: ['staging', 'users', 'location']
      - name: zip
        description: user's zip code
        tags: ['staging', 'users', 'location']
      - name: state
        description: user's state
        tags: ['staging', 'users', 'location']
      - name: latitude
        description: latitudinal address
        tags: ['staging', 'users', 'location']
      - name: longitude
        description: longitudinal address
        tags: ['staging', 'users', 'longitude']
      - name: gender
        description: user's gender
        tags: ['staging', 'users', 'gender']
      - name: address_id
        description: (identifier) user's address
        tags: ['staging', 'users', 'location']
      - name: registration
  - name: artist
    description: distinct artists found in the application
    docs:
      show: true
    columns:
      - name: id
        description: identifier
        tags: ['staging', 'artists', 'identifier']
        tests:
          - not null
      - name: name
        description: name of the artist
        tags: ['artist', 'staging']
  - name: addresses
    descriptions: distinct addresses (city & state)
    docs:
      show: true
    columns:
      - name: id
        description: identifier
        tags: ['staging', 'addresses', 'identifier']
        tests:
          - not null
      - name: city
        description: city
        tags: ['staging', 'addresses', 'location']
      - name: state
        description: state
        tags: ['staging', 'addresses', 'location']
        tests:
          - not null
  - name: users_events
    description: events carried out by all users
    docs:
      show: true
    columns:
      - name: id
        description: (int)
        tags: ['staging', 'user events']
      - name: user_id
        description: (int) identofier
        tags: ['staging', 'user events', 'idenifier']
      - name: method
        description: (str) http methods
        tags: ['staging', 'user events']
      - name: page_visited
        description: (str)
        tags: ['staging', 'user events']
      - name: session_id
        description: (int)
        tags: ['staging', 'user events']
      - name: status
        description: (int) status codes e.g. 200, 404
        tags: ['staging', 'user events']
      - name: user_agent
        description: (str) user's system configurations & browser details
        tags: ['staging', 'user events']
      - name: level
        description: (str) paid | free
        tags: ['staging', 'user events']
      - name: page
        description: (str) valid only if event was a page view
        tags: ['staging', 'user events']
      - name: timestamp
        description: (bigint) time stamp
        tags: ['staging', 'user events', 'time']
      - name: item_in_session
        description: (int)
        tags: ['staging', 'user events']
      - name: event
        description: (str) usually a page view, auth or a listen event
        tags: ['staging', 'user events']
  - name: times
